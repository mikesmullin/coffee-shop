// Generated by CoffeeScript 1.4.0
var CoffeeShopClient,
  __slice = [].slice,
  _this = this;

this.app = new (CoffeeShopClient = (function() {

  function CoffeeShopClient() {}

  CoffeeShopClient.prototype.bootstrap = function(env, options) {
    var _this = this;
    this.ENV = env || 'production';
    options = options || {};
    this.debug = options.debug || this.ENV !== 'production';
    this.trace = options.trace || false;
    this.started = new Date();
    this.events = {};
    this.on('hashchange', function(hash) {
      return console.log("sup! hash is now " + hash);
    });
    $(window).hashchange(function() {
      return this.emit('hashchange', location.hash);
    });
    this.on('ready', function() {
      _this.log('app ready.');
      return _this.emit('hashchange', location.hash);
    });
    return this.emit('ready');
  };

  CoffeeShopClient.prototype.log = function(o) {
    var current;
    if (this.debug && console) {
      current = new Date();
      console.log(typeof o === 'string' ? "[" + ((current - this.started) / 1000) + "s] " + o : o);
      if (this.trace) {
        return console.trace();
      }
    }
  };

  CoffeeShopClient.prototype.on = function(event, cb) {
    this.events[event] = this.events[event] || [];
    return this.events[event].push(cb);
  };

  CoffeeShopClient.prototype.emit = function() {
    var args, event, k, _results;
    event = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
    _results = [];
    for (k in this.events[event]) {
      _results.push(this.events[event][k].apply(null, args));
    }
    return _results;
  };

  CoffeeShopClient.prototype.removeAllListeners = function(event) {
    return delete this.events[event];
  };

  return CoffeeShopClient;

})());

this.__exported__ = {};

this.module = {};

this.require = function(file) {
  return _this.__exported__[file];
};

this.global = {
  exports: function(file, o) {
    return _this.__exported__[file] = o;
  }
};
